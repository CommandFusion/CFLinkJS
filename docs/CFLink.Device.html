<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Class: Device</title>
    
    <script src="http://shjs.sourceforge.net/sh_main.min.js"> </script>
    <script src="http://shjs.sourceforge.net/lang/sh_javascript.min.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.css">
    <link type="text/css" rel="stylesheet" href="styles/node-dark.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>
    
<!-- this element gets replaced when producing the final complete docset
     with a navigation bar that allows moving between docs
-->
<navbar />

<div class="container-fluid">
    <div class="row-fluid">
        <div class="span2">
            <div class="well">
                <div id="toc">
                    <h2><a href="index.html">Table of Contents</a></h2><h3>Namespaces</h3><ul><li><a href="CFLink.html">CFLink</a></li></ul><h3>Classes</h3><ul><li><a href="CFLink.CFMini.html">CFMini</a></li><li><a href="CFLink.DINMOD4.html">DINMOD4</a></li><li><a href="CFLink.Device.html">Device</a></li><li><a href="CFLink.IOPort.html">IOPort</a></li><li><a href="CFLink.IRBlaster.html">IRBlaster</a></li><li><a href="CFLink.LANBridge.html">LANBridge</a></li><li><a href="CFLink.LEDPort.html">LEDPort</a></li><li><a href="CFLink.Module.html">Module</a></li><li><a href="CFLink.RS232Port.html">RS232Port</a></li><li><a href="CFLink.RelayPort.html">RelayPort</a></li><li><a href="CFLink.SW16.html">SW16</a></li><li><a href="CFLink.LANBridge.Slot.html">Slot</a></li></ul>
                </div>
            </div>
        </div>
        <div class="span10">
            



<div id="header">
    <h2><span class="ancestors"><a href="CFLink.html">CFLink</a>.</span>Device</h2>
    
</div>  

<div id="article">
    <div class="container-overview">
    

    
        

    
        
    
        
    
        
            <div class="description">
                This is the base class for all CFLink device objects. Subclasses do implement the actualdevice functionality (i.e. LANBridge, MOD4, SW16, etc). This class provides the base supportand functionality for subclasses, like access to onboard COM ports for devices that have one(LAN Bridge, CFMini, DIN-MOD4) and support for sending CFLink-formatted messages.To obtain an object representing one of the devices on your CFLink bus,use the <a href="CFLink.html#getDevice">CFLink.getDevice</a> function.
            </div>
        

        
<dl class="details">
    
        
	
	
	
	
	
		
	
	
    
	
	

	
</dl>

    
        
    
        
    
        
    
        
            <h5>Example</h5>
            
    <pre class="sh_javascript"><code>// Obtain a DIN-MOD4 object to access it via JavaScript. This assumes that your// GUI is configured with an external TCP system named "CFLINK" that connects to// a LAN Bridge (for example on the default port 10207)// The DIN-MOD4 we want to access has CFLink ID 11var dm4 = CFLink.getDevice("CFLINK", CFLink.model.DINMOD4, "11");</code></pre>

        


    
    </div>

    

    

    

    

    

    
        <div class="subsection-title">Members</div>

        <dl>
            
<dt>
    <h4 class="name" id="ID_CHANGED"><span class="type-signature">&lt;static, constant> </span>ID_CHANGED<span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        Event fired when the ID of a CFLink device has changed. You can observe thisevent to update your GUI or take any other appropriate action after a device ID changehas been successfully completed in the CFLink busYour callback function should be of the form:function(event, device, oldID)event is the name of this eventdevice is the CFLink.Device object whose ID has changedoldID is the previous CFLink ID this device had on the bus
    </div>
    
    
    
<dl class="details">
    
        
	
	
	
	
	
		
	
	
    
	
	

	
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="INFO_RECEIVED"><span class="type-signature">&lt;static, constant> </span>INFO_RECEIVED<span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        Event fired when the info (full description) for a device has been received.You can observe this event to take any appropriate action, for example furtheraccess the modules of a <a href="CFLink.DINMOD4.html">CFLink.DINMOD4</a> object once the framework hasgathered information about which modules have been plugged in.Your callback function should be of the form:function(event, device, ready)event is the name of this eventdevice is the CFLink.Device object that just rebootedready is a boolean, true if the device is up and running, false if its firmware is invalid and it's in "waiting for flash" mode
    </div>
    
    
    
<dl class="details">
    
        
	
	
	
	
	
		
	
	
    
	
	

	
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="REBOOTED"><span class="type-signature">&lt;static, constant> </span>REBOOTED<span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        Event fired when a device has rebooted. You can observe this event to take any appropriateaction if you need to know that the device is up.Your callback function should be of the form:function(event, device, ready)event is the name of this eventdevice is the CFLink.Device object that just rebootedready is a boolean, true if the device is up and running, false if its firmware is invalid and it's in "waiting for flash" mode
    </div>
    
    
    
<dl class="details">
    
        
	
	
	
	
	
		
	
	
    
	
	

	
</dl>

    
    
</dd>

        </dl>
    

    
        <div class="subsection-title">Methods</div>

        <dl>
            
<div class="method-container">
    <div class="method-name-container">
        <div class="method-name" id="configureCOMPort">
            <span class="type-signature"></span>configureCOMPort
            (<span class="method-call-params">
                
    	                    mode
    	                    , 
    	                    baud
    	                    , 
    	                    dataBits
    	                    , 
    	                    parity
    	                    , 
    	                    stopBits
    	                    , 
    	                    flowControl
    	                    
            </span>)
            
        </div>
    </div>
    <div class="method-inner">
        
            <h5>Parameters:</h5>
            <div class="method-params">
                

<table class="params">
    <thead>
	<tr>
		<th>Name</th>
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>mode</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            
            
            <td class="description last">the mode to set (see CFLink.RS232Port.Valid.Modes)</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>baud</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            
            
            <td class="description last">the port speed to set (see CFLink.RS232Port.Valid.Bauds)</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>dataBits</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            
            
            <td class="description last">the number of data bits (7 or 8)</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>parity</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            
            
            <td class="description last">the parity ("N" for none, "E" for even, "O" for odd)</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>stopBits</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            
            
            <td class="description last">the number of stop bits (1 or 2)</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>flowControl</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            
            
            <td class="description last">whether to apply flow control (true or false and 1 or 0 accepted)</td>
        </tr>
	
	
	</tbody>
</table>
                
            </div>
        
        <div class="method-description">
            

            
                <div class="description">
                    Configure the onboard COM port of the device has one
                </div>
            
    
            

            
<dl class="details">
    
        
	
	
	
	
	
		
	
	
    
	
	

	
</dl>

    
            
    
            
    
            
        </div>
    </div>
</div>

        
            
<div class="method-container">
    <div class="method-name-container">
        <div class="method-name" id="rebootDevice">
            <span class="type-signature"></span>rebootDevice
            (<span class="method-call-params">
                
            </span>)
            
        </div>
    </div>
    <div class="method-inner">
        
        <div class="method-description">
            

            
                <div class="description">
                    Resets the device, this will also apply some configuration changes for some devices like LANBridge
                </div>
            
    
            

            
<dl class="details">
    
        
	
	
	
	
	
		
	
	
    
	
	

	
</dl>

    
            
    
            
    
            
        </div>
    </div>
</div>

        
            
<div class="method-container">
    <div class="method-name-container">
        <div class="method-name" id="send">
            <span class="type-signature"></span>send
            (<span class="method-call-params">
                
    	                    commandType
    	                    , 
    	                    command
    	                    , 
    	                    payload
    	                    
            </span>)
            
        </div>
    </div>
    <div class="method-inner">
        
            <h5>Parameters:</h5>
            <div class="method-params">
                

<table class="params">
    <thead>
	<tr>
		<th>Name</th>
		<th>Type</th>
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>commandType</code></td>
            
            
            <td class="type">
            
                        String
                        
                    
            </td>
            
            
            
            
            
            <td class="description last">the command type (i.e. 'Q', 'T', etc)</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>command</code></td>
            
            
            <td class="type">
            
                        String
                        
                    
            </td>
            
            
            
            
            
            <td class="description last">the command (i.e. "SET")</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>payload</code></td>
            
            
            <td class="type">
            
                        String
                        
                    
            </td>
            
            
            
            
            
            <td class="description last">the actual payload of the CFLink packet</td>
        </tr>
	
	
	</tbody>
</table>
                
            </div>
        
        <div class="method-description">
            

            
                <div class="description">
                    Send a CFLink packet to the CFLink device this object represents
                </div>
            
    
            

            
<dl class="details">
    
        
	
	
	
	
	
		
	
	
    
	
	

	
</dl>

    
            
    
            
    
            
        </div>
    </div>
</div>

        
            
<div class="method-container">
    <div class="method-name-container">
        <div class="method-name" id="sendCOMData">
            <span class="type-signature"></span>sendCOMData
            (<span class="method-call-params">
                
    	                    data
    	                    
            </span>)
            
        </div>
    </div>
    <div class="method-inner">
        
            <h5>Parameters:</h5>
            <div class="method-params">
                

<table class="params">
    <thead>
	<tr>
		<th>Name</th>
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>data</code></td>
            
            
            <td class="type">
            
            </td>
            
            
            
            
            
            <td class="description last">the data to send. Data is being sent verbatim. You can pass a string, or an array of character codes					(if you pass an array, the software assumes these are character codes, and will turn each code into a byte)</td>
        </tr>
	
	
	</tbody>
</table>
                
            </div>
        
        <div class="method-description">
            

            
                <div class="description">
                    Send data to the device's onboard COM port if it has one (i.e. CFMini, LAN Bridge, DIN-MOD4)
                </div>
            
    
            

            
<dl class="details">
    
        
	
	
	
	
	
		
	
	
    
	
	

	
</dl>

    
            
    
            
    
            
        </div>
    </div>
</div>

        
            
<div class="method-container">
    <div class="method-name-container">
        <div class="method-name" id="setCFLinkID">
            <span class="type-signature"></span>setCFLinkID
            (<span class="method-call-params">
                
    	                    id
    	                    
            </span>)
            
        </div>
    </div>
    <div class="method-inner">
        
            <h5>Parameters:</h5>
            <div class="method-params">
                

<table class="params">
    <thead>
	<tr>
		<th>Name</th>
		<th>Type</th>
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>id</code></td>
            
            
            <td class="type">
            
                        string
                        
                    
            </td>
            
            
            
            
            
            <td class="description last">CFLink ID of the device in ascii format ('02' - 'EF')</td>
        </tr>
	
	
	</tbody>
</table>
                
            </div>
        
        <div class="method-description">
            

            
                <div class="description">
                    Change the CFLink ID of the device.
                </div>
            
    
            

            
<dl class="details">
    
        
	
	
	
	
	
		
	
	
    
	
	

	
</dl>

    
            
    
            
    
            
        </div>
    </div>
</div>

        
            
<div class="method-container">
    <div class="method-name-container">
        <div class="method-name" id="unwatch">
            <span class="type-signature"></span>unwatch
            (<span class="method-call-params">
                
    	                    watcherID
    	                    
            </span>)
            
        </div>
    </div>
    <div class="method-inner">
        
            <h5>Parameters:</h5>
            <div class="method-params">
                

<table class="params">
    <thead>
	<tr>
		<th>Name</th>
		<th>Type</th>
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>watcherID</code></td>
            
            
            <td class="type">
            
                        Number
                        
                    
            </td>
            
            
            
            
            
            <td class="description last">the watcher ID that was returned by CFLink.Device.watchCOMPort</td>
        </tr>
	
	
	</tbody>
</table>
                
            </div>
        
        <div class="method-description">
            

            
                <div class="description">
                    Stop watching the changes you asked to be notified for in CFLink.Device.watchCOMPortYou could as well call <a href="CFLink.html#unwatch">CFLink.unwatch</a> which does the same thing.
                </div>
            
    
            

            
<dl class="details">
    
        
	
	
	
	
	
		
	
	
    
	
	

	
</dl>

    
            
    
            
    
            
        </div>
    </div>
</div>

        
            
<div class="method-container">
    <div class="method-name-container">
        <div class="method-name" id="watchCOMPort">
            <span class="type-signature"></span>watchCOMPort
            (<span class="method-call-params">
                
    	                    callback
    	                    , 
    	                    me
    	                    
            </span>)
            
        </div>
    </div>
    <div class="method-inner">
        
            <h5>Parameters:</h5>
            <div class="method-params">
                

<table class="params">
    <thead>
	<tr>
		<th>Name</th>
		<th>Type</th>
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>callback</code></td>
            
            
            <td class="type">
            
                        Function
                        
                    
            </td>
            
            
            
            
            
            <td class="description last">your callback function, of the form myCallback(deviceObject, data)</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>me</code></td>
            
            
            <td class="type">
            
                        Object
                        
                    
            </td>
            
            
            
            
            
            <td class="description last">the object to set as `this' when calling your callback function</td>
        </tr>
	
	
	</tbody>
</table>
                
                            <dl>

        <dt>
            Returns
        <dt>
        <dd>
            a watcherID you can use to unwatch with CFLink.Device.unwatch or <a href="CFLink.html#unwatch">CFLink.unwatch</a>
        </dd>
    
    	    <dt>
	        
	            Type
            
        	</dt>
        	<dd>
        		
        		<span class="param-type">Number</span> 
        		
        	</dd>

</dl>

                        
            </div>
        
        <div class="method-description">
            

            
                <div class="description">
                    Setup a callback function that will be called whenever data is received on the device's onboard COM portHaving multiple callback monitoring the onboard COM port is allowed.Your callback function should be of the form:myCallback(deviceObject, data)Where `deviceObject' is the <a href="CFLink.Device.html">CFLink.Device</a> device object (for example a <a href="CFLink.CFMini.html">CFLink.CFMini</a> object),and `data' is the received data (a String that may contain binary characters, as all received data is passed verbatim to you).
                </div>
            
    
            

            
<dl class="details">
    
        
	
	
	
	
	
		
	
	
    
	
	

	
</dl>

    
            
    
            
    
            
        </div>
    </div>
</div>

        </dl>
    

    

    
</div>





        </div>
    </div>
</div>

<br clear="both">

<script> sh_highlightDocument(); </script>
</body>
</html>
